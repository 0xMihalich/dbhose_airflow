refresh
=======

.. py:method:: NativeDumper.refresh()

   :return: Ничего не возвращает (``None``)
   :rtype: None

   Обновление сессии соединения с сервером ClickHouse.

**Описание:**

Метод выполняет обновление текущей сессии работы с сервером ClickHouse.
Он вызывает обновление внутреннего курсора соединения, что обеспечивает
актуальность состояния подключения и освобождает временные ресурсы.

**Когда использовать refresh():**

Метод уже используется в других методах, требующих обновление соединения после работы.
Тем не менее, пользователь может самостоятельно вызвать данный метод в случае необходимости.

**Что делает метод:**

1. **Обновляет курсор** - вызывает ``cursor.refresh()``
2. **Освобождает временные ресурсы** - закрывает неиспользуемые соединения
4. **Логирует операцию** - записывает информационное сообщение

**Сообщения в логе:**

При успешном выполнении метода в лог записывается сообщение:

.. code-block:: text

    INFO: Connection to host localhost updated.

**Обработка ошибок:**

.. code-block:: python

    # Метод refresh() обычно не выбрасывает исключения,
    # но возможны ошибки если соединение полностью разорвано
    
    try:
        dumper.refresh()
    except Exception as e:
        print(f"Не удалось обновить сессию: {e}")

**Примечания:**

* Метод легковесный и выполняется быстро
* Не влияет на уже выполненные операции
* Не гарантирует восстановление разорванного соединения

**См. также:**

- :doc:`cursor` - Документация по HTTPCursor
